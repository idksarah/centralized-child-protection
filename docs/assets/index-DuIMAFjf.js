(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const be=!1,Ce=(e,t)=>e===t,xe=Symbol("solid-track"),X={equals:Ce};let ue=ye;const U=1,H=2,he={owned:null,cleanups:null,context:null,owner:null};var g=null;let ee=null,Ie=null,p=null,w=null,M=null,$=0;function k(e,t){const s=p,n=g,i=e.length===0,r=t===void 0?n:t,l=i?he:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?e:()=>e(()=>q(()=>J(l)));g=l,p=null;try{return L(o,!0)}finally{p=s,g=n}}function N(e,t){t=t?Object.assign({},X,t):X;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),we(s,i));return[ge.bind(s),n]}function O(e,t,s){const n=ne(e,t,!1,U);W(n)}function ve(e,t,s){ue=Be;const n=ne(e,t,!1,U);n.user=!0,M?M.push(n):W(n)}function de(e,t,s){s=s?Object.assign({},X,s):X;const n=ne(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,W(n),ge.bind(n)}function q(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function Ae(e){ve(()=>q(e))}function pe(e){return g===null||(g.cleanups===null?g.cleanups=[e]:g.cleanups.push(e)),e}function ge(){if(this.sources&&this.state)if(this.state===U)W(this);else{const e=w;w=null,L(()=>z(this),!1),w=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function we(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&L(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],l=ee&&ee.running;l&&ee.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?w.push(r):M.push(r),r.observers&&me(r)),l||(r.state=U)}if(w.length>1e6)throw w=[],new Error},!1)),t}function W(e){if(!e.fn)return;J(e);const t=$;Ee(e,e.value,t)}function Ee(e,t,s){let n;const i=g,r=p;p=g=e;try{n=e.fn(t)}catch(l){return e.pure&&(e.state=U,e.owned&&e.owned.forEach(J),e.owned=null),e.updatedAt=s+1,Se(l)}finally{p=r,g=i}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?we(e,n):e.value=n,e.updatedAt=s)}function ne(e,t,s,n=U,i){const r={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:g?g.context:null,pure:s};return g===null||g!==he&&(g.owned?g.owned.push(r):g.owned=[r]),r}function j(e){if(e.state===0)return;if(e.state===H)return z(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===U)W(e);else if(e.state===H){const n=w;w=null,L(()=>z(e,t[0]),!1),w=n}}function L(e,t){if(w)return e();let s=!1;t||(w=[]),M?s=!0:M=[],$++;try{const n=e();return Te(s),n}catch(n){s||(M=null),w=null,Se(n)}}function Te(e){if(w&&(ye(w),w=null),e)return;const t=M;M=null,t.length&&L(()=>ue(t),!1)}function ye(e){for(let t=0;t<e.length;t++)j(e[t])}function Be(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:j(n)}for(t=0;t<s;t++)j(e[t])}function z(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const i=n.state;i===U?n!==t&&(!n.updatedAt||n.updatedAt<$)&&j(n):i===H&&z(n,t)}}}function me(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=H,s.pure?w.push(s):M.push(s),s.observers&&me(s))}}function J(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),l=s.observerSlots.pop();n<i.length&&(r.sourceSlots[l]=n,i[n]=r,s.observerSlots[n]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)J(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)J(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ne(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Se(e,t=g){throw Ne(e)}const Ve=Symbol("fallback");function re(e){for(let t=0;t<e.length;t++)e[t]()}function Me(e,t,s={}){let n=[],i=[],r=[],l=0,o=t.length>1?[]:null;return pe(()=>re(r)),()=>{let c=e()||[],f=c.length,u,a;return c[xe],q(()=>{let y,d,h,m,A,S,b,E,V;if(f===0)l!==0&&(re(r),r=[],n=[],i=[],l=0,o&&(o=[])),s.fallback&&(n=[Ve],i[0]=k(_=>(r[0]=_,s.fallback())),l=1);else if(l===0){for(i=new Array(f),a=0;a<f;a++)n[a]=c[a],i[a]=k(v);l=f}else{for(h=new Array(f),m=new Array(f),o&&(A=new Array(f)),S=0,b=Math.min(l,f);S<b&&n[S]===c[S];S++);for(b=l-1,E=f-1;b>=S&&E>=S&&n[b]===c[E];b--,E--)h[E]=i[b],m[E]=r[b],o&&(A[E]=o[b]);for(y=new Map,d=new Array(E+1),a=E;a>=S;a--)V=c[a],u=y.get(V),d[a]=u===void 0?-1:u,y.set(V,a);for(u=S;u<=b;u++)V=n[u],a=y.get(V),a!==void 0&&a!==-1?(h[a]=i[u],m[a]=r[u],o&&(A[a]=o[u]),a=d[a],y.set(V,a)):r[u]();for(a=S;a<f;a++)a in h?(i[a]=h[a],r[a]=m[a],o&&(o[a]=A[a],o[a](a))):i[a]=k(v);i=i.slice(0,l=f),n=c.slice(0)}return i});function v(y){if(r[a]=y,o){const[d,h]=N(a);return o[a]=h,t(c[a],d)}return t(c[a])}}}function F(e,t){return q(()=>e(t||{}))}function oe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return de(Me(()=>e.each,e.children,t||void 0))}const te=e=>de(()=>e());function Ke(e,t,s){let n=s.length,i=t.length,r=n,l=0,o=0,c=t[i-1].nextSibling,f=null;for(;l<i||o<r;){if(t[l]===s[o]){l++,o++;continue}for(;t[i-1]===s[r-1];)i--,r--;if(i===l){const u=r<n?o?s[o-1].nextSibling:s[r-o]:c;for(;o<r;)e.insertBefore(s[o++],u)}else if(r===o)for(;l<i;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===s[r-1]&&s[o]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(s[o++],t[l++].nextSibling),e.insertBefore(s[--r],u),t[i]=s[r]}else{if(!f){f=new Map;let a=o;for(;a<r;)f.set(s[a],a++)}const u=f.get(t[l]);if(u!=null)if(o<u&&u<r){let a=l,v=1,y;for(;++a<i&&a<r&&!((y=f.get(t[a]))==null||y!==u+v);)v++;if(v>u-o){const d=t[l];for(;o<u;)e.insertBefore(s[o++],d)}else e.replaceChild(s[o++],t[l++])}else l++;else t[l++].remove()}}}const le="_$DX_DELEGATE";function Ue(e,t,s,n={}){let i;return k(r=>{i=r,t===document?e():B(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{i(),t.textContent=""}}function D(e,t,s,n){let i;const r=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},l=()=>(i||(i=r())).cloneNode(!0);return l.cloneNode=l,l}function Oe(e,t=window.document){const s=t[le]||(t[le]=new Set);for(let n=0,i=e.length;n<i;n++){const r=e[n];s.has(r)||(s.add(r),t.addEventListener(r,De))}}function Y(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function G(e,t){t==null?e.removeAttribute("class"):e.className=t}function B(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return Z(e,t,n,s);O(i=>Z(e,t(),i,s),n)}function De(e){let t=e.target;const s=`$$${e.type}`,n=e.target,i=e.currentTarget,r=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),l=()=>{const c=t[s];if(c&&!t.disabled){const f=t[`${s}Data`];if(f!==void 0?c.call(t,f,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&r(t.host),!0},o=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();r(c[0]);for(let f=0;f<c.length-2&&(t=c[f],!!l());f++){if(t._$host){t=t._$host,o();break}if(t.parentNode===i)break}}else o();r(n)}function Z(e,t,s,n,i){for(;typeof s=="function";)s=s();if(t===s)return s;const r=typeof t,l=n!==void 0;if(e=l&&s[0]&&s[0].parentNode||e,r==="string"||r==="number"){if(r==="number"&&(t=t.toString(),t===s))return s;if(l){let o=s[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),s=R(e,s,n,o)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||r==="boolean")s=R(e,s,n);else{if(r==="function")return O(()=>{let o=t();for(;typeof o=="function";)o=o();s=Z(e,o,s,n)}),()=>s;if(Array.isArray(t)){const o=[],c=s&&Array.isArray(s);if(se(o,t,s,i))return O(()=>s=Z(e,o,s,n,!0)),()=>s;if(o.length===0){if(s=R(e,s,n),l)return s}else c?s.length===0?ae(e,o,n):Ke(e,s,o):(s&&R(e),ae(e,o));s=o}else if(t.nodeType){if(Array.isArray(s)){if(l)return s=R(e,s,n,t);R(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function se(e,t,s,n){let i=!1;for(let r=0,l=t.length;r<l;r++){let o=t[r],c=s&&s[e.length],f;if(!(o==null||o===!0||o===!1))if((f=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=se(e,o,c)||i;else if(f==="function")if(n){for(;typeof o=="function";)o=o();i=se(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else e.push(o),i=!0;else{const u=String(o);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return i}function ae(e,t,s=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function R(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(i!==o){const c=o.parentNode===e;!r&&!l?c?e.replaceChild(i,o):e.insertBefore(i,s):c&&o.remove()}else r=!0}}else e.insertBefore(i,s);return[i]}async function Ye(e,t,s,n,i){const r="https://api.openai.com/v1/chat/completions";console.log(void 0);const c=await(await fetch(r,{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant designed to output JSON."},{role:"user",content:`Pretend that you are Xi Jinping and you are grading people based off of their social credit score. This person's credit score is ${t}, and social credit can range from -100 to 100. Treat the person accordingly. Also, here is the past 10 urls this person visited: ${JSON.stringify(s)}
Please take this information and generate a response
          based on this prompt: ${e}.
          Use a minimal prompt.
          Output strictly as JSON with these fields:
          {
            "value": string, // textual comment
            "newSocialCredit": number // new calculated score
          }`}],response_format:{type:"json_object"}})})).json();return JSON.parse(c.choices[0].message.content)}async function Re(e){return new Promise((t,s)=>{if("speechSynthesis"in window){let n=new SpeechSynthesisUtterance(e);n.text=e,n.lang="en-US",n.volume=1,n.rate=1.5,n.pitch=1,n.onstart=function(){console.log("tts started")},n.onend=function(){console.log("tts ended"),t()},n.onerror=function(i){console.error("tts error:",i.error),s(i.error)},window.speechSynthesis.speak(n)}else console.error("tts not supported in browser")})}const Je="data:image/png;base64,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";function qe(){const[e,t]=N(0),[s,n]=N([]),[i,r]=N(""),[l,o]=N(""),[c,f]=N(!1),[u,a]=N(null);return Ae(()=>{const v=d=>{if(d.source!==window||!d.data||d.data.type!=="SOCIAL_CREDIT_DATA")return;const h=d.data;typeof h.socialCredit=="number"&&t(h.socialCredit),Array.isArray(h.urlList)&&n(h.urlList),Array.isArray(h.keyHistory)&&r(h.keyHistory),typeof h.clipboard=="string"&&o(h.clipboard),f(!0),a(null),console.log("✅ Received extension data:",h)};window.addEventListener("message",v);const y=setTimeout(()=>{c()||(f(!0),a("Extension not detected"),console.warn("⚠️ No extension data received, using defaults"))},2e3);return()=>{window.removeEventListener("message",v),clearTimeout(y)}}),{socialCreditScore:e,urlList:s,keyHistory:i,clipboard:l,isLoaded:c,error:u}}const ce="data:image/png;base64,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",We="data:image/png;base64,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",fe="/assets/xi-jinping-idle-B6fxnNxX.jpg";var Le=D('<div class="assistant typing">'),Qe=D('<div id=wechat-layout><aside id=profile-sidebar><img alt=profile></aside><aside id=chatlist-sidebar><div class=search>Search</div></aside><main id=main><section id=header><h2 id=title>centralized child protection</h2></section><section id=chat-container><div id=chat-box></div><div id=input-area><textarea id=input placeholder="Type your message..."></textarea><img class=send>'),Pe=D("<div class=chat-item><img class=chat-avatar alt=user><div class=chat-info><strong></strong><p>"),Ge=D("<div><div>"),ke=D('<img class=avatar alt="assistant avatar">'),Fe=D('<img alt="user avatar">'),Xe=D('<div class="message-row assistant-row"><img class=avatar alt="assistant avatar">');function He(){const[e,t]=N([]),[s,n]=N(""),[i,r]=N(!1),l=Array.from({length:10},(d,h)=>({name:`User ${h+1}`,message:"Recent message..."})),{socialCreditScore:o,urlList:c,keyHistory:f,clipboard:u}=qe();async function a(){const d=s().trim();if(!d)return;t(A=>[...A,{role:"user",text:d}]),r(!0);let h=null,m=null;try{const A=await Ye(d,o(),c(),f(),u());h=A.value+"Your new social credit is "+A.newSocialCredit,m=A.newSocialCredit,console.log("new social credit: ",m),window.postMessage({type:"UPDATE_SOCIAL_CREDIT",socialCredit:m,lastPrompt:d},window.location.origin),t(S=>[...S,{role:"assistant",text:h??""}])}catch(A){console.error("Error fetching GPT response:",A)}finally{r(!1)}if(h)try{await Re(h)}catch(A){console.error("TTS error:",A)}}const v=d=>{d.key==="Enter"&&(console.log("gooning"),a())};function y(){const[d,h]=N(".");let m;return Ae(()=>{m=window.setInterval(()=>{h(A=>A.length>=3?".":A+".")},500)}),pe(()=>clearInterval(m)),(()=>{var A=Le();return B(A,d),A})()}return(()=>{var d=Qe(),h=d.firstChild,m=h.firstChild,A=h.nextSibling;A.firstChild;var S=A.nextSibling,b=S.firstChild,E=b.nextSibling,V=E.firstChild,_=V.nextSibling,Q=_.firstChild,ie=Q.nextSibling;return Y(m,"src",Je),B(A,F(oe,{each:l,children:C=>(()=>{var x=Pe(),K=x.firstChild,T=K.nextSibling,I=T.firstChild,P=I.nextSibling;return Y(K,"src",fe),B(I,()=>C.name),B(P,()=>C.message),x})()}),null),B(V,F(oe,{get each(){return e()},children:C=>(()=>{var x=Ge(),K=x.firstChild;return B(x,(()=>{var T=te(()=>C.role==="assistant");return()=>T()&&(()=>{var I=ke();return Y(I,"src",ce),I})()})(),K),B(K,()=>C.text),B(x,(()=>{var T=te(()=>C.role==="user");return()=>T()&&(()=>{var I=Fe();return Y(I,"src",fe),O(()=>G(I,`avatar ${i()?"floating":""}`)),I})()})(),null),O(T=>{var I=`message-row ${C.role==="user"?"user-row":"assistant-row"}`,P=`message ${C.role==="user"?"user":"assistant"}`;return I!==T.e&&G(x,T.e=I),P!==T.t&&G(K,T.t=P),T},{e:void 0,t:void 0}),x})()}),null),B(V,(()=>{var C=te(()=>!!i());return()=>C()&&(()=>{var x=Xe(),K=x.firstChild;return Y(K,"src",ce),B(x,F(y,{}),null),x})()})(),null),Q.$$keydown=v,Q.$$input=C=>n(C.target.value),ie.$$click=a,Y(ie,"src",We),O(()=>G(m,`avatar-main ${i()?"floating":""}`)),O(()=>Q.value=s()),d})()}Oe(["input","keydown","click"]);const je=document.getElementById("root");Ue(()=>F(He,{}),je);
